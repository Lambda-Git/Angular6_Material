<mat-card class="page-container pt-0" style="border: 1px solid #c8ced3;">
  <mat-tab-group (selectedTabChange)="tabClick($event)">
    <mat-tab label="我的身份">
      <mat-card-content>
        <!--<div class="table-filter-bar" fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="start center">
          <div class="filter-bar-header">
            <mat-icon>search</mat-icon>
          </div>
          <div class="filter-bar-search" fxFlex="" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="40px"
               [formGroup]="myBaseForm">
            <div fxFlex="200px">
              <mat-form-field class="mat-full-width">
                <input matInput placeholder="名称" formControlName="name" (change)="getOrgcardInfo()">
              </mat-form-field>
            </div>
            <div fxFlex="initial" fxFlexAlign="center">
              <mat-form-field>
                <mat-select placeholder="身份类型" formControlName="root" (selectionChange)="getOrgcardInfo()">
                  <mat-option value="-1">请选择</mat-option>
                  <mat-option value="true">主身份</mat-option>
                  <mat-option value="false">子身份</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div fxFlex="initial" fxFlexAlign="center">
              <mat-form-field>
                <mat-select placeholder="使用状态" formControlName="use" (selectionChange)="getOrgcardInfo()">
                  <mat-option value="-1">请选择</mat-option>
                  <mat-option value="true">是</mat-option>
                  <mat-option value="false">否</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <button mat-mini-fab color="primary" matTooltip="增加新身份" (click)="addOrgCard()">
            <mat-icon>add</mat-icon>
          </button>
          <button mat-mini-fab color="primary" matTooltip="刷新" (click)="getOrgcardInfo()">
            <mat-icon>refresh</mat-icon>
          </button>
        </div>-->
        <table mat-table [dataSource]="mainDatas" multiTemplateDataRows>
          <tr mat-header-row *matHeaderRowDef="mainColumnsToDisplay"></tr>
          <tr mat-row *matRowDef="let element; columns: mainColumnsToDisplay;" class="example-element-row"
              [class.example-expanded-row]="expandedRow === element"
              [ngClass]="{'true': element.use}">
          </tr>
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> 名称</th>
            <td mat-cell *matCellDef="let row"> {{row.name}}</td>
          </ng-container>
          <ng-container matColumnDef="commonName">
            <th mat-header-cell *matHeaderCellDef> 域名</th>
            <td mat-cell *matCellDef="let row"> {{row.commonName}}</td>
          </ng-container>
          <ng-container matColumnDef="country">
            <th mat-header-cell *matHeaderCellDef> 所属国家</th>
            <td mat-cell *matCellDef="let row"> {{row.country}}</td>
          </ng-container>
          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef> 州名或省名</th>
            <td mat-cell *matCellDef="let row"> {{row.state}}</td>
          </ng-container>
          <ng-container matColumnDef="locality">
            <th mat-header-cell *matHeaderCellDef> 城市名</th>
            <td mat-cell *matCellDef="let row"> {{row.locality}}</td>
          </ng-container>
          <ng-container matColumnDef="organizationName">
            <th mat-header-cell *matHeaderCellDef> 单位名称</th>
            <td mat-cell *matCellDef="let row"> {{row.organizationName}}</td>
          </ng-container>
          <ng-container matColumnDef="organizationUnit">
            <th mat-header-cell *matHeaderCellDef> 所在部门</th>
            <td mat-cell *matCellDef="let row"> {{row.organizationUnit}}</td>
          </ng-container>
          <ng-container matColumnDef="root">
            <th mat-header-cell *matHeaderCellDef> 是否为主</th>
            <td mat-cell *matCellDef="let row">
              <mat-chip color="accent" selected *ngIf="row.root == true">主身份</mat-chip>
              <mat-chip color="primary" selected *ngIf="row.root != true">子身份</mat-chip>
            </td>
            <!--<td mat-cell *matCellDef="let row"> {{row.root | status}}</td>-->
          </ng-container>
          <ng-container matColumnDef="use">
            <th mat-header-cell *matHeaderCellDef> 是否被使用</th>
            <td mat-cell *matCellDef="let row"> {{row.use | status}}</td>
          </ng-container>
          <ng-container matColumnDef="action" class="text-right">
            <th class="button" mat-header-cell *matHeaderCellDef>
              <button mat-mini-fab color="primary" matTooltip="增加新身份" (click)="addOrgCard()">
                <mat-icon>add</mat-icon>
              </button>
            </th>
            <td mat-cell *matCellDef="let row" class="text-right">
              <!--<button mat-icon-button color="primary" (click)="(row)" class="href">-->
              <!--<mat-icon matTooltip="编辑身份">edit</mat-icon>-->
              <!--</button>-->
              <button mat-icon-button color="primary" *ngIf="row.use !== true" (click)="updateOrgCardInfo(row)"
                      class="href">
                <mat-icon matTooltip="更新身份">edit</mat-icon>
              </button>
            </td>
          </ng-container>
        </table>
      </mat-card-content>
      <!--<mat-paginator [pageSizeOptions]="[5,10]"-->
                     <!--showFirstLastButtons-->
                     <!--[length]="myPage.totalElements"-->
                     <!--[pageSize]="myPage.pageSize"-->
                     <!--[pageIndex]="myPage.pageNum - 1"-->
                     <!--(page)="myPageChanged($event)">-->

      <!--</mat-paginator>-->
    </mat-tab>
    <mat-tab label="全网身份">
      <mat-card-content>
        <div class="table-filter-bar" fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="start center">
          <div class="filter-bar-header">
            <mat-icon>search</mat-icon>
          </div>
          <div class="filter-bar-search" fxFlex="" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="40px"
               [formGroup]="otherBaseForm">
            <div fxFlex="200px">
              <mat-form-field class="mat-full-width">
                <input matInput placeholder="组织名称" formControlName="name" (change)="getAllConfigs()">
              </mat-form-field>
            </div>
            <div fxFlex="initial" fxFlexAlign="center">
              <mat-form-field>
                <mat-select placeholder="类型" formControlName="type" (selectionChange)="getAllConfigs()">
                  <mat-option value="-1">请选择</mat-option>
                  <mat-option value="peer">peer</mat-option>
                  <mat-option value="orderer">orderer</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div fxFlex="initial" fxFlexAlign="center">
              <mat-form-field>
                <mat-select placeholder="配置了MSP" formControlName="config" (selectionChange)="getAllConfigs()">
                  <mat-option value="-1">请选择</mat-option>
                  <mat-option value="true">是</mat-option>
                  <mat-option value="false">否</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <!--<button mat-mini-fab color="primary" (click)="addOrgCard()">-->
          <!--<mat-icon>add</mat-icon>-->
          <!--</button>-->
          <button mat-mini-fab color="primary" (click)="getAllConfigs()">
            <mat-icon>refresh</mat-icon>
          </button>
        </div>

        <table mat-table [dataSource]="datas" multiTemplateDataRows>
          <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
          <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"
              [class.example-expanded-row]="expandedRow === element">
          </tr>
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> 组织名称</th>
            <td mat-cell *matCellDef="let row"> {{row.name}}</td>
          </ng-container>
          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> 类型</th>
            <td mat-cell *matCellDef="let row"> {{row.type}}</td>
          </ng-container>
          <ng-container matColumnDef="config">
            <th mat-header-cell *matHeaderCellDef> 配置了MSP</th>
            <td mat-cell *matCellDef="let row"> {{row.config | status}}</td>
          </ng-container>
          <ng-container matColumnDef="createDate">
            <th mat-header-cell *matHeaderCellDef> 创建时间</th>
            <td mat-cell *matCellDef="let row"> {{row.createDate}}</td>
          </ng-container>
          <ng-container matColumnDef="action">
            <th class="button" mat-header-cell *matHeaderCellDef>
              <!--<button class="add" mat-stroked-button color="primary" (click)="addConfig()">增加身份</button>-->
              <!--<button class="refresh" mat-stroked-button color="primary" (click)="getAllConfigs()">刷新</button>-->
            </th>
            <td mat-cell *matCellDef="let row" class="text-right">
              <!--<button mat-icon-button color="primary" (click)="publishConfig(row)" class="href">-->
              <!--<mat-icon matTooltip="发布身份">playlist_add</mat-icon>-->
              <!--</button>-->
              <!--<button mat-icon-button color="primary" (click)="updateConfig(row)" class="href">-->
              <!--<mat-icon matTooltip="修改身份信息">edit</mat-icon>-->
              <!--</button>-->
            </td>
          </ng-container>
        </table>
      </mat-card-content>
      <mat-paginator [pageSizeOptions]="[5,10]"
                     showFirstLastButtons
                     [length]="otherPage.totalElements"
                     [pageSize]="otherPage.pageSize"
                     [pageIndex]="otherPage.pageNum - 1"
                     (page)="otherPageChanged($event)">

      </mat-paginator>
    </mat-tab>
  </mat-tab-group>
</mat-card>
